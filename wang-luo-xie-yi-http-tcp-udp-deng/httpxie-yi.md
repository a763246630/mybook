## HTTP协议

超文本传输协议\(Hypertext transfer protocol\)。是一种详细规定了浏览器和万维网\(WWW = World Wide Web\)服务器之间互相通信的规则，通过因特网传送万维网文档的数据传送协议。

HTTP协议作为TCP/IP模型中应用层的协议也不例外。HTTP协议通常承载于TCP协议之上，有时也承载于TLS或SSL协议层之上，这个时候，就成了我们常说的HTTPS。如下图：

![](/assets/http1.png)

#### 特点

* **简单快速**：客户像服务器请求服务时，只需传送请求方法和路径。由于HTTP协议简单，使得HTTP服务器的程序规模小，因而通信速度很快

* **灵活**：HTTP允许传输任意类型的数据对象。正在传输的类型由Content-Type加以标记

* **无状态**：HTTP协议是**无状态协议**。**无状态是指协议对于事务处理没有记忆能力**。缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信息时它的应答就较快。

支持B/S及C/S模式。即浏览器/服务器模式和客户端/服务端模式。

#### **HTTP工作流程**

一次HTTP操作称为一个事务，其工作过程可分为四步：

—首先客户机与服务器需要建立连接。只要单击某个超级链接，HTTP的工作开始。

—建立连接后，客户机发送一个请求给服务器，请求方式的格式为：统一资源标识符（URL）、协议版本号，后边是MIME信息包括请求修饰符、客户机信息和可能的内容。

—服务器接到请求后，给予相应的响应信息，其格式为一个状态行，包括信息的协议版本号、一个成功或错误的代码，后边是MIME信息包括服务器信息、实体信息和可能的内容。

—客户端接收服务器所返回的信息通过浏览器显示在用户的显示屏上，然后客户机与服务器断开连接。

#### **HTTP请求消息Request**

客户端发送一个HTTP请求到服务器的请求消息包括以下格式：

请求行、请求头部、空行和请求数据四个部分组成。

**GET请求**

![](/assets/http2.png)

第一部分：请求行，用来说明请求类型,要访问的资源以及所使用的HTTP版本.  
GET说明请求类型为GET，\[/562f25980001b1b106000338.jpg\]为要访问的资源，该行的最后一部分说明使用的是HTTP1.1版本。

第二部分：请求头部，紧接着请求行（即第一行）之后的部分，用来说明服务器要使用的附加信息  
从第二行起为请求头部，HOST将指出请求的目的地.User-Agent,服务器端和客户端脚本都能访问它,它是浏览器类型检测逻辑的重要基础.该信息由你的浏览器来定义,并且在每个请求中自动发送等等

第三部分：空行，请求头部后面的空行是必须的  
即使第四部分的请求数据为空，也必须有空行。

第四部分：请求数据也叫主体，可以添加任意的其他数据。

**POST请求**

![](/assets/http3.png)

第一部分：请求行，第一行明了是post请求，以及http1.1版本。

第二部分：请求头部，第二行至第六行。

第三部分：空行，第七行的空行。

第四部分：请求数据，第八行。

#### **HTTP响应消息Reponse**



